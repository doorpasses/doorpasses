{
  "name": "python-sdk",
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "sourceRoot": "packages/python-sdk/doorpasses",
  "projectType": "library",
  "tags": ["sdk", "python"],
  "targets": {
    "install": {
      "executor": "nx:run-commands",
      "options": {
        "command": "pip install -e .",
        "cwd": "packages/python-sdk"
      }
    },
    "install:dev": {
      "executor": "nx:run-commands",
      "options": {
        "command": "pip install -e \".[dev]\"",
        "cwd": "packages/python-sdk"
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "options": {
        "command": "pytest",
        "cwd": "packages/python-sdk"
      }
    },
    "test:coverage": {
      "executor": "nx:run-commands",
      "options": {
        "command": "pytest --cov=doorpasses --cov-report=term-missing --cov-report=html --cov-report=xml",
        "cwd": "packages/python-sdk"
      }
    },
    "lint": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "ruff check doorpasses tests",
          "black --check doorpasses tests"
        ],
        "cwd": "packages/python-sdk",
        "parallel": false
      }
    },
    "lint:fix": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "ruff check --fix doorpasses tests",
          "black doorpasses tests"
        ],
        "cwd": "packages/python-sdk",
        "parallel": false
      }
    },
    "typecheck": {
      "executor": "nx:run-commands",
      "options": {
        "command": "mypy doorpasses",
        "cwd": "packages/python-sdk"
      }
    },
    "build": {
      "executor": "nx:run-commands",
      "options": {
        "command": "python -m build",
        "cwd": "packages/python-sdk"
      }
    },
    "clean": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "rm -rf dist build *.egg-info",
          "find . -type d -name __pycache__ -exec rm -rf {} + 2>/dev/null || true",
          "find . -type f -name '*.pyc' -delete 2>/dev/null || true"
        ],
        "cwd": "packages/python-sdk",
        "parallel": false
      }
    }
  }
}
